{"version":3,"sources":["assets/loader/loader.module.sass","assets/variables.ts","assets/renderCar.tsx","store/main-reducer.tsx","store/sagas.ts","store/redux-store.tsx","reportWebVitals.ts","components/formTaxi_COmponent/form.tsx","assets/Placemark/marker.tsx","assets/loader/loader.tsx","components/elemCar_Component/carLi.tsx","components/app_Component/App.tsx","components/app_Component/App.container.tsx","index.tsx"],"names":["module","exports","kDistance","rendCar","coords","porm","c","Math","random","floor","length","SET_COORDS","SET_SEARCH","SET_SEARCH_WITH_CLICK","NO_ADRESS","SET_CAR","SEARCH_CAR_STATUS","SET_ERROR","initS","inputSearch","noAdress","car","searchCarStatus","error","timeoutId","setCoords","body","type","setSearchWithClick","setStatusSearchCar","workGeocode","workGeocodeWithClick","workCar","workPostOrder","wGeocode","delay","ms","Promise","resolve","setTimeout","fGeocode","o","a","clearTimeout","del","fetch","search","then","res","json","select","state","mainPage","obj","call","response","GeoObjectCollection","featureMember","GeoObject","Point","pos","arrCoords","split","map","el","Number","put","reverse","data","metaDataProperty","GeocoderMetaData","text","fCar","coords_car","changeCoordsCar","fPostOrder","date","Date","toLocaleString","replace","lat","lon","alert","JSON","stringify","takeEvery","reducers","combineReducers","s","sagaMiddleware","createSagaMiddleware","store","createStore","applyMiddleware","logger","run","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","validateAdress","value","MyTextField","label","props","useField","field","meta","useDispatch","dispatch","className","touched","FormTaxi","setSearch","submit","handlerChange","e","currentTarget","initialValues","startPath","enableReinitialize","onSubmit","values","onLoad","submitForm","name","validate","onChange","point","m","ymaps","dM","height","color","this","icon","iconOffset","width","layoutI","templateLayoutFactory","createClass","Placemark","iconLayout","geoObjects","add","Loader","loader","CarLi","car_mark","car_model","car_color","distance","src","App","carStatus","useState","setYmp","setMap","button","useRef","elCar","d","coordSystem","geo","getDistance","toFixed","sort","b","subForm","current","addEventListener","propForm","useEffect","removeAll","removeEventListener","undefined","forEach","propMap","defaultState","center","zoom","ymp","onClick","get","instanceRef","ref","modules","query","apikey","disabled","appContainer","connect","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ad39f906.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"loader_loader__1_YZx\"};","export const kDistance: number = 0.01 // 0 после запятой ~~ 10км\r\nexport const heightCar: number = 40 // (px) высота макера машины на карте, ширина = 0.65высоты\r\nexport const heightPerson: number = 55 // (px) высота макера машины на карте, ширина = 0.65высоты\r\nexport const valodateMessage: string = 'Обязательное поле' // Сообщение валидации формы адреса\r\nexport const messageIfNoAdress: string = 'Такого адреса не существует' // Сообщение если адреса не существует\r\n","import { kDistance } from './variables'\r\n\r\nexport function rendCar(coords: Array<number>){\r\n      const porm: any = [\r\n            {\r\n                c: () => [ coords[0] - kDistance * Math.random(), coords[1] - kDistance * Math.random() ]\r\n            },\r\n            {\r\n                c: () => [ coords[0] + kDistance * Math.random(), coords[1] + kDistance * Math.random() ]\r\n            }\r\n          ]\r\n      let rObj = Math.floor( Math.random() * porm.length )\r\n      return porm[rObj].c()\r\n}","import { Taction, TelCar, TInitState } from \"../interfacies/interface\"\r\n\r\nconst   SET_COORDS: string  = 'main/SET_COORDS',\r\n        SET_SEARCH: string = 'form/SET_SEARCH',\r\n        SET_SEARCH_WITH_CLICK: string = 'main/SET_SEARCH_WITH_CLICK',\r\n        NO_ADRESS: string = 'form/NO_ADRESS',\r\n        SET_CAR: string = 'main/SET_CAR',\r\n        SEARCH_CAR_STATUS: string = 'main/SEARCH_CAR_STATUS',\r\n        SET_ERROR: string = 'form/SET_ERROR',\r\n        POST_ORDER: string = 'form/POST_ORDER'\r\n\r\n\r\n\r\n\r\n\r\nconst initS: TInitState = {\r\n    coords: [],\r\n    inputSearch: '',\r\n    noAdress: null,\r\n    car: [],\r\n    searchCarStatus: '',\r\n    error: ''\r\n}\r\n\r\nexport default function mainReducer ( s = initS , a: any ): any {\r\n    switch(a.type){\r\n        case SET_COORDS: \r\n            return { ...s, coords: a.body, car: [], noAdress: null }\r\n        case SET_SEARCH: \r\n            return { ...s, inputSearch: a.body }\r\n        case SET_SEARCH_WITH_CLICK: \r\n            return { ...s, inputSearch: a.body }\r\n        case NO_ADRESS: \r\n            return { ...s, noAdress: a.body, car: [] }\r\n        case SEARCH_CAR_STATUS: \r\n            return { ...s, searchCarStatus: a.body }\r\n        case SET_CAR: \r\n            return { ...s, car: a.body }\r\n        case SET_ERROR: \r\n            return { ...s, error: a.body }\r\n        default:\r\n            return s\r\n    }\r\n}\r\n\r\nexport const setCoords = ( body: Array<number> ): Taction =>  { return  { type: SET_COORDS , body } }\r\nexport const setSearchWithClick = ( body: string ): Taction =>  { return  { type: SET_SEARCH_WITH_CLICK , body } }\r\nexport const setSearch = ( body: string ): Taction =>  { return  { type: SET_SEARCH , body } }\r\nexport const noAdress = ( body: string ): Taction =>  { return  { type: NO_ADRESS , body } }\r\nexport const setCar = ( body: Array<TelCar> ): Taction =>  { return  { type: SET_CAR , body } }\r\nexport const setStatusSearchCar = (body: boolean ): Taction =>  { return  { type: SEARCH_CAR_STATUS , body } }\r\nexport const setError = ( body: string | undefined ): Taction =>  { return  { type: SET_ERROR , body } }\r\n\r\n\r\nexport const postOrder = ( body: any ): any =>  { return  { type: POST_ORDER , body } }","import { takeEvery, call, put, select } from 'redux-saga/effects'\r\nimport { rendCar } from '../assets/renderCar'\r\nimport { noAdress, setCar, setCoords, setSearchWithClick, setStatusSearchCar } from './main-reducer'\r\nimport { messageIfNoAdress } from '../assets/variables'\r\nimport { TelCar } from '../interfacies/interface'\r\n\r\nlet timeoutId : any\r\n\r\nfunction delay(ms: number) {\r\n    return new Promise( resolve => {\r\n        timeoutId =  setTimeout(resolve, ms)\r\n    })\r\n}\r\n\r\nasync function fGeocode(o: any){\r\n    clearTimeout(timeoutId)\r\n    await delay(o.del)\r\n    return await fetch(`https://geocode-maps.yandex.ru/1.x/?format=json&apikey=505379b1-6f2a-446f-af46-102586018d6a&geocode=${o.search}`).then( res=> res.json() )\r\n}\r\n\r\nfunction* workGeocode(): any{\r\n    const   search = yield select( state => state.mainPage.inputSearch ),\r\n            obj = { search, del: 1000 }\r\n    try {\r\n        const   res = yield call(fGeocode, obj ),\r\n                coords = res.response.GeoObjectCollection.featureMember[0].GeoObject.Point.pos,\r\n                arrCoords = coords.split(/ /g).map((el:string) => Number(el))\r\n        yield put( setCoords(arrCoords.reverse()) )\r\n    } catch (error) {\r\n        yield put( noAdress('Адрес не существует') )\r\n    }\r\n    \r\n}\r\nfunction* workGeocodeWithClick(a: any): any{\r\n    yield put( setCoords(a.data))\r\n    const   coords = yield select( state => state.mainPage.coords ),\r\n            search = `${coords[1]},${coords[0]}`,\r\n            obj = { search, del: 0 }\r\n    try {\r\n        const   res = yield call(fGeocode, obj ),\r\n                search = res.response.GeoObjectCollection.featureMember[0].GeoObject.metaDataProperty.GeocoderMetaData.text\r\n        yield put( setSearchWithClick(search) )\r\n    } catch (error) {\r\n        yield put( noAdress(messageIfNoAdress) )\r\n    }\r\n    \r\n}\r\n\r\nasync function fCar(){\r\n    await delay(1500)\r\n    let url: string = `http://localhost:5000/taxi/crews_info`\r\n    return await fetch(url).then( res => res.json() )\r\n}\r\n\r\nfunction* workCar(): any{\r\n    yield put( setStatusSearchCar(true) )\r\n    const   res: Array<TelCar> = yield call(fCar),\r\n            coords : Array<number> = yield select( state => state.mainPage.coords ),\r\n            changeCoordsCar: Array<TelCar> = yield res.map( (el:any) => { \r\n                el.coords_car = rendCar(coords)\r\n                return el\r\n            })\r\n    yield put( setStatusSearchCar(false) )\r\n    yield put( setCar(changeCoordsCar) ) \r\n}\r\n\r\n\r\nasync function fPostOrder(o: any){\r\n    let date: string = new Date().toLocaleString()\r\n        date = date.replace(/^(\\d{2}).(\\d{2}).(\\d{4})/, '$3$2$1').replace(/,/g, '').replace(/\\s/g, '').replace( /:/g, '')\r\n    const obj = {\r\n            \"source_time\": date,\r\n            \"addresses\":\r\n                    [\r\n                        {\r\n                        \"address\":o.search,\r\n                        \"lat\": o.lat,\r\n                        \"lon\": o.lon\r\n                        }\r\n                    ]\r\n            }   \r\n    alert(JSON.stringify(obj, null, 2))\r\n    // let url = `здесь был бы ендпоинт на отправку заказа`\r\n    // return await fetch(url).then( res => res.json() )\r\n}\r\n\r\nfunction* workPostOrder(a: any): any{\r\n    const   search: string = yield select( state => state.mainPage.inputSearch ),\r\n            coords: Array<number> = yield select( state => state.mainPage.coords ),\r\n            obj = { search, lat: coords[0], lon: coords[1]  }\r\n    yield call(fPostOrder, obj )\r\n}\r\n\r\nexport function* wGeocode(){\r\n    yield takeEvery( 'SEARCH_CAR', workCar )\r\n    yield takeEvery( 'GEO_CODE', workGeocode )\r\n    yield takeEvery( 'CLICK_SEARCH_ADRESS', workGeocodeWithClick )\r\n    yield takeEvery( 'form/POST_ORDER', workPostOrder )\r\n}","import { combineReducers, createStore, applyMiddleware } from 'redux'\r\nimport createSagaMiddleware from 'redux-saga'\r\nimport { wGeocode } from './sagas'\r\nimport logger from 'redux-logger'\r\nimport mainReducer from './main-reducer'\r\n\r\nconst reducers = combineReducers({ \r\n    mainPage: mainReducer\r\n})\r\n\r\nconst sagaMiddleware = createSagaMiddleware()\r\n\r\nconst store = createStore( reducers , applyMiddleware(sagaMiddleware, logger) )\r\nsagaMiddleware.run(wGeocode)\r\nexport default store","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { Formik, Form, FormikValues, useField } from 'formik'\r\nimport * as React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { ViewProps } from '../../interfacies/interface'\r\nimport { postOrder, setError } from '../../store/main-reducer'\r\nimport { valodateMessage } from '../../assets/variables'\r\n\r\nfunction validateAdress(value: string) {\r\n    let error\r\n    if(!value) error = valodateMessage\r\n    return error\r\n  }\r\n\r\nconst MyTextField = ({ label, noAdress, ...props }: any) => {\r\n    const [ field, meta ] = useField(props),\r\n            dispatch = useDispatch()\r\n    dispatch(setError(meta.error))\r\n    return  <div className='textinput'>\r\n                <label>{label}</label>\r\n                <input {...field} {...props} />\r\n                { meta.touched && meta.error ? ( <div className=\"error\">{meta.error}</div> ) : null }\r\n                { noAdress && field.value ? ( <div className=\"error\">{noAdress}</div> ) : null }\r\n            </div>\r\n}\r\n\r\nexport let FormTaxi = (props: ViewProps) => {\r\n    const { search, setSearch, submit, noAdress } = props,\r\n            dispatch = useDispatch(),\r\n            handlerChange = ( e: React.ChangeEvent<any> ) => setSearch(e.currentTarget.value) && dispatch({ type: 'GEO_CODE' })\r\n   \r\n    const   postSubmit = (values: any) => dispatch(postOrder(values))\r\n\r\nreturn  <Formik initialValues={{ startPath: search }} enableReinitialize={true} onSubmit={postSubmit}> \r\n        {(props) => (\r\n            <Form onLoad={submit(props.submitForm)}>\r\n                <div className='rowInput'> \r\n                    <MyTextField noAdress={noAdress} name=\"startPath\" type=\"text\" label=\"Откуда\" validate={validateAdress} value={search} onChange={handlerChange} />\r\n                </div>\r\n            </Form>)}\r\n        </Formik>      \r\n}\r\n\r\n\r\n","import { Imarker } from '../../interfacies/interface'\r\nimport { heightCar, heightPerson } from '../variables'\r\n\r\nexport function point(m: any, ymaps: any, type: string, coords: Array<number>): any{\r\n\r\n  const car: string = 'car',\r\n        i: string = 'i'\r\n\r\n  function data(){\r\n    let d:Imarker\r\n    switch (type) {\r\n      case car:\r\n        d = {\r\n          height: heightCar,\r\n          color: '#3ee55a',\r\n          get width(){\r\n            return this.height * 0.65\r\n          },\r\n          icon: `<svg version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x='60' y='-100'\r\n                viewBox=\"0 0 43.723 43.723\" style=\"enable-background:new 0 0 43.723 43.723;\" xml:space=\"preserve\" width=\"200px\">\r\n                <path style=\"fill:#030104;\" d=\"M43.723,14.572h-6.166l-0.351,3.325c-0.129-0.078-0.261-0.153-0.397-0.222v-6.933\r\n                c0-3.091-2.514-5.605-5.605-5.605H12.518c-3.092,0-5.605,2.514-5.605,5.605v6.933c-0.138,0.067-0.271,0.144-0.397,0.222\r\n                l-0.351-3.325H0v3.177l6.199,0.354c-1.16,0.822-1.902,2.072-1.902,3.477v6.354c0,1.58,0.939,2.967,2.355,3.765v4.271\r\n                c0,1.443,1.68,2.616,3.749,2.616s3.749-1.172,3.749-2.616v-3.55h14.78v3.55c0,1.443,1.678,2.616,3.748,2.616\r\n                c2.071,0,3.748-1.172,3.748-2.616v-3.962c1.77-0.709,3-2.264,3-4.072v-6.354c0-1.404-0.744-2.654-1.903-3.477l6.2-0.354\r\n                L43.723,14.572L43.723,14.572z M9.154,10.742c0-1.855,1.509-3.364,3.362-3.364h18.687c1.854,0,3.364,1.509,3.364,3.364v6.365\r\n                c-0.096-0.005-0.188-0.013-0.283-0.013H9.438c-0.097,0-0.189,0.008-0.283,0.013L9.154,10.742L9.154,10.742z M28.027,25.317v1.494\r\n                H16.442v-1.494H28.027z M8.033,27.446v-4.913h6.766v4.913H8.033z M15.694,31.11c-0.519,0-0.937-0.418-0.937-0.936\r\n                c0-0.517,0.418-0.935,0.937-0.935c0.517,0,0.934,0.418,0.934,0.935S16.211,31.11,15.694,31.11z M28.961,31.11\r\n                c-0.517,0-0.934-0.418-0.934-0.936c0-0.517,0.417-0.935,0.934-0.935s0.936,0.418,0.936,0.935\r\n                C29.896,30.691,29.478,31.11,28.961,31.11z M36.623,27.446h-6.766v-4.913h6.766V27.446z\" fill=\"black\"/>\r\n                </svg>`\r\n        }\r\n        return d\r\n      case i:\r\n        d = {\r\n          height: heightPerson,\r\n          color: 'yellow',\r\n          get width(){\r\n            return this.height * 0.65\r\n          },\r\n          icon: `<svg width='150px' x='60' y='-100' viewBox='0 0 350 350' style='enable-background:new 0 0 500 500'>\r\n                <path d='M291.299,116.517h-3.501c10.635-12.36,17.102-28.378,17.102-45.915C304.899,31.666,273.219,0,234.305,0 c-38.93,0-70.584,31.666-70.584,70.602c0,17.537,6.477,33.555,17.093,45.915h-3.51c-19.645,0-35.626,15.997-35.626,35.645v117.105 c0,19.648,15.982,35.633,35.626,35.633h1.372v128.07c0,20.332,10.697,35.645,24.884,35.645h61.468 c14.208,0,24.908-15.312,24.908-35.645v-128.07h1.363c19.642,0,35.639-15.984,35.639-35.633V152.161 C326.932,132.514,310.94,116.517,291.299,116.517z' fill='black'/>\r\n                </svg>`\r\n        }\r\n        return d\r\n    }\r\n  }\r\n\r\n  const dM : any = data(),\r\n        iconOffset: Array<number> = [-(dM.width/2), -dM.height],\r\n        layoutI = ymaps.templateLayoutFactory.createClass(\r\n                  `<svg width='${dM.width}px' height='${dM.height}' x='0' y='0' viewBox='0 0 325 500'>\r\n                  <g transform='translate(0.000000,512.000000) scale(0.100000,-0.100000)'\r\n                  fill='#000000'>\r\n                  <path d=\"M1319 5100 c-320 -57 -621 -214 -853 -446 -129 -128 -220 -255 -300\r\n                  -419 -119 -240 -166 -444 -166 -715 0 -271 47 -475 166 -715 81 -165 153 -265\r\n                  331 -457 171 -185 221 -245 347 -412 445 -594 717 -1254 743 -1804 3 -73 8\r\n                  -130 11 -127 2 2 8 64 13 137 33 510 234 1042 602 1592 148 222 306 417 553\r\n                  686 179 194 297 397 368 631 91 302 89 659 -5 955 -179 568 -669 994 -1256\r\n                  1094 -153 27 -404 26 -554 0z\" fill='${dM.color}'/>\r\n                  </g>\r\n                  ${dM.icon}\r\n                  </svg>`),\r\n  \r\n  point = new ymaps.Placemark(coords,{},{ \r\n    iconLayout: layoutI,\r\n    iconOffset: iconOffset\r\n  }) \r\n  m.geoObjects.add(point)\r\n}","import s from './loader.module.sass'\r\n\r\nexport const Loader: React.FC = () => {\r\n    return  <div className={s.loader}>\r\n                <div></div>\r\n                <div></div>\r\n            </div>\r\n}","const CarLi : React.FC = ( props: any ) => {\r\n\r\n    const { car_mark, car_model, car_color, distance } = props,\r\n            carIcon = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgNDMuNzIzIDQzLjcyMyIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDMuNzIzIDQzLjcyMzsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGc+DQoJPHBhdGggc3R5bGU9ImZpbGw6IzAzMDEwNDsiIGQ9Ik00My43MjMsMTQuNTcyaC02LjE2NmwtMC4zNTEsMy4zMjVjLTAuMTI5LTAuMDc4LTAuMjYxLTAuMTUzLTAuMzk3LTAuMjIydi02LjkzMw0KCQljMC0zLjA5MS0yLjUxNC01LjYwNS01LjYwNS01LjYwNUgxMi41MThjLTMuMDkyLDAtNS42MDUsMi41MTQtNS42MDUsNS42MDV2Ni45MzNjLTAuMTM4LDAuMDY3LTAuMjcxLDAuMTQ0LTAuMzk3LDAuMjIyDQoJCWwtMC4zNTEtMy4zMjVIMHYzLjE3N2w2LjE5OSwwLjM1NGMtMS4xNiwwLjgyMi0xLjkwMiwyLjA3Mi0xLjkwMiwzLjQ3N3Y2LjM1NGMwLDEuNTgsMC45MzksMi45NjcsMi4zNTUsMy43NjV2NC4yNzENCgkJYzAsMS40NDMsMS42OCwyLjYxNiwzLjc0OSwyLjYxNnMzLjc0OS0xLjE3MiwzLjc0OS0yLjYxNnYtMy41NWgxNC43OHYzLjU1YzAsMS40NDMsMS42NzgsMi42MTYsMy43NDgsMi42MTYNCgkJYzIuMDcxLDAsMy43NDgtMS4xNzIsMy43NDgtMi42MTZ2LTMuOTYyYzEuNzctMC43MDksMy0yLjI2NCwzLTQuMDcydi02LjM1NGMwLTEuNDA0LTAuNzQ0LTIuNjU0LTEuOTAzLTMuNDc3bDYuMi0wLjM1NA0KCQlMNDMuNzIzLDE0LjU3Mkw0My43MjMsMTQuNTcyeiBNOS4xNTQsMTAuNzQyYzAtMS44NTUsMS41MDktMy4zNjQsMy4zNjItMy4zNjRoMTguNjg3YzEuODU0LDAsMy4zNjQsMS41MDksMy4zNjQsMy4zNjR2Ni4zNjUNCgkJYy0wLjA5Ni0wLjAwNS0wLjE4OC0wLjAxMy0wLjI4My0wLjAxM0g5LjQzOGMtMC4wOTcsMC0wLjE4OSwwLjAwOC0wLjI4MywwLjAxM0w5LjE1NCwxMC43NDJMOS4xNTQsMTAuNzQyeiBNMjguMDI3LDI1LjMxN3YxLjQ5NA0KCQlIMTYuNDQydi0xLjQ5NEgyOC4wMjd6IE04LjAzMywyNy40NDZ2LTQuOTEzaDYuNzY2djQuOTEzSDguMDMzeiBNMTUuNjk0LDMxLjExYy0wLjUxOSwwLTAuOTM3LTAuNDE4LTAuOTM3LTAuOTM2DQoJCWMwLTAuNTE3LDAuNDE4LTAuOTM1LDAuOTM3LTAuOTM1YzAuNTE3LDAsMC45MzQsMC40MTgsMC45MzQsMC45MzVTMTYuMjExLDMxLjExLDE1LjY5NCwzMS4xMXogTTI4Ljk2MSwzMS4xMQ0KCQljLTAuNTE3LDAtMC45MzQtMC40MTgtMC45MzQtMC45MzZjMC0wLjUxNywwLjQxNy0wLjkzNSwwLjkzNC0wLjkzNXMwLjkzNiwwLjQxOCwwLjkzNiwwLjkzNQ0KCQlDMjkuODk2LDMwLjY5MSwyOS40NzgsMzEuMTEsMjguOTYxLDMxLjExeiBNMzYuNjIzLDI3LjQ0NmgtNi43NjZ2LTQuOTEzaDYuNzY2VjI3LjQ0NnoiLz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjwvc3ZnPg0K'\r\n    \r\n    return <div className='bodyCar'>\r\n              <div className='iconCar'>\r\n                <img src={carIcon}></img>\r\n              </div>\r\n              <div className='centerContentCar'>\r\n                  <div className='nameCar'>{`${car_mark} ${car_model}`}</div>\r\n                  <div className='colorCar'>{car_color}</div>\r\n              </div>\r\n              <div className='distance'>{distance} м</div>\r\n            </div>\r\n  }\r\n\r\n  export default CarLi","import React, { useEffect, useRef, useState } from 'react'\nimport './App.sass'\nimport { YMaps, Map } from 'react-yandex-maps'\nimport { FormTaxi } from '../formTaxi_COmponent/form'\nimport { useDispatch } from 'react-redux'\nimport { point } from '../../assets/Placemark/marker'\nimport { Loader } from '../../assets/loader/loader'\nimport CarLi from '../elemCar_Component/carLi'\nimport { TelCar, PMap } from '../../interfacies/interface'\n\nconst App : React.FC = (props: any) => {\n\n    let { coords, noAdress, car, search, setSearch, carStatus, error } = props,\n        [ ymaps, setYmp ] = useState<any>(),\n        [ m, setMap ] = useState<any>(),\n        dispatch = useDispatch(),\n        button = useRef<any>(null)\n\n\n    // этого лушче тут не делать конечно, но не хотелось ссылаться на ymaps из редюссера\n    let   elCar = car.map( (el: TelCar) => {\n              const d = ymaps.coordSystem.geo.getDistance(coords, el.coords_car).toFixed()\n              el.distance = d\n              return el\n          })    \n          elCar = elCar.sort( (a: any , b: any) =>  a.distance > b.distance ? 1 : -1 ) \n          elCar = carStatus ? <Loader/> : elCar.map( (el: any) => {\n          return <CarLi {...el} /> \n        })\n\n    const setPoint = (event: any) => dispatch({type: 'CLICK_SEARCH_ADRESS', data: event.get('coords')}),\n          submit = (subForm: any) => button.current && button.current.addEventListener('click', subForm)\n\n    \n    const propForm  = { search, submit, setSearch, noAdress } \n\n    useEffect(() => ymaps && m.geoObjects.removeAll() && dispatch({ type:'SEARCH_CAR'}) && point(m, ymaps, 'i', coords), [ coords ])\n    useEffect(() => button && button.current ? () => button.current.removeEventListener( 'click', submit ) : undefined)\n    useEffect(() => car.forEach( (el: any) => point(m, ymaps, 'car', el.coords_car)) , [car])\n    \n    const propMap : PMap = {\n      width: '100%',\n      height: 300,\n      defaultState: { \n        center: [ 55.75, 37.57 ], \n        zoom: 9 \n      },\n      onLoad: ymp  => setYmp(ymp),\n      onClick: e => setPoint(e), \n      instanceRef: ref => setMap(ref),\n      modules: [\n        'geocode', \n        'GeoObject',\n        'Placemark',\n        'GeoObjectCollection',\n        'templateLayoutFactory', \n        'layout.ImageWithContent',\n        'formatter',\n        'coordSystem.geo'\n      ]\n    }\n\n    return  <div className='App'>\n              <div className='form'>\n                  <FormTaxi {...propForm}/>\n              </div>\n              <div className='bodyApp'>\n                  <YMaps query={{apikey: '505379b1-6f2a-446f-af46-102586018d6a'}} >\n                    <div className='map'>\n                      <Map {...propMap}></Map>\n                    </div>\n                  </YMaps>\n                  <div className='listCar'>{elCar}</div>\n              </div>\n              <div className='submit'>\n                  <button ref={button} disabled={noAdress || error} >Заказать</button>\n              </div> \n            </div>\n}\n\nexport default App","import { connect } from 'react-redux'\r\nimport { setCoords, setSearch, setSearchWithClick } from '../../store/main-reducer'\r\nimport App from './App'\r\nimport { TInitState } from '../../interfacies/interface'\r\n\r\nconst mapStateToProps = (state: any) => {\r\n  const s: TInitState = state.mainPage\r\n  return {\r\n    search: s.inputSearch,\r\n    coords: s.coords,\r\n    noAdress: s.noAdress,\r\n    error: s.error,\r\n    car: s.car,\r\n    carStatus: s.searchCarStatus\r\n  }\r\n}\r\n\r\nconst appContainer = connect(mapStateToProps, { setCoords, setSearch, setSearchWithClick })(App)\r\nexport default appContainer","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport {Provider} from 'react-redux'\nimport store from './store/redux-store'\nimport reportWebVitals from './reportWebVitals'\nimport AppContainer from './components/app_Component/App.container'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store} >\n      <AppContainer/>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\nreportWebVitals()\n"],"sourceRoot":""}